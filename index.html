<!DOCTYPE html>
<html>
  <head>
    <title>The TPK Show</title>
    <link rel='SHORTCUT ICON' href='/favicon.ico'>

    <!-- Viewport mobile tag for sensible mobile support -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="//js.arcgis.com/3.13/esri/css/esri.css">   
    <link rel="stylesheet" type="text/css" href="//esri.github.io/bootstrap-map-js/src/css/bootstrapmap.css">
    <link rel="stylesheet" type="text/css" href="//code.jquery.com/ui/1.11.1/themes/redmond/jquery-ui.css">

    <link rel="stylesheet" type="text/css" href="res/ladda-themeless.min.css">
    <link rel="stylesheet" type="text/css" href="res/app.css">
  </head>
  <body>
    <div class="panel panel-primary panel-fixed hidden-on-start" id="tpkPanel">

      <div class="panel-heading text-left default"><span id="instructions">The TPK Show</span>
        <div class="btn-group pull-right hidden-xs" id="esriSignOut">
          <button class="btn btn-default btn-xs"><span id="esriUsername"></span></button>
          <button class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown"><span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#" onClick="signOut()">Sign out</a></li>
          </ul>
        </div>

        <div class="btn-group pull-right visible-xs-block" id="esriSignOutSmall">
          <button class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown"><span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#" onClick="signOut()">Sign out</a></li>
          </ul>
        </div>
      </div>

      <div class="panel-heading text-center interaction hidden-on-start">
        <span>Feedback...</span>
      </div>      

      <div class="panel-body">
        <form id="extentForm" class="form-horizontal" method="post"
          data-bv-message="This value is not valid"
          data-bv-live="disabled">

          <div class="form-group">
            <div class="col-sm-12">
              <div id="zoomLevelsSlider"></div>
            </div>
          </div>

          <div class="well" id="tpkInfo">
            <span id="zoomLevelsRange"></span><span id="tileCountDisplay"></span><br/><span id="tpkSizeDisplay"></span>
          </div>

          <div class="form-group">
              <button type="button" class="btn btn-xs btn-default ladda-button" disabled="true" id="estimateButton" onClick="estimateTPK()"
              data-toggle="tooltip" data-placement="top" title="Estimate the TPK size"
              data-style="zoom-out" data-spinner-color="#656565"><span class="ladda-label">Estimate Size</span></button>
              <button type="button" class="btn btn-xs btn-default ladda-button" disabled="true" id="tpkButton" onClick="getTPK()"
              data-toggle="tooltip" data-placement="top" title="Create TPK"
              data-style="zoom-out" data-spinner-color="#656565"><span class="ladda-label">Create TPK</span></button>
              <a id="downloadTPK" class="btn btn-xs btn-success hidden-on-start"
                data-toggle="tooltip" data-placement="top" title="Download TPK File"
                href="javascript:alert('Something went wrong!');" target="_blank"><span class="hidden-xs">Download TPK</span><span class="glyphicon glyphicon-cloud-download"></span>
              </a>
          </div>
        </form>
      </div>

    </div>

    <div id="search"></div>

    <div class="dropdown" id="basemapPickerContainer">
      <button class="btn btn-default dropdown-toggle" type="button" id="basemapPicker" 
        data-toggle="dropdown">
        <span class="glyphicon glyphicon-list" id="basemapPickerLabel"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-left" role="menu" aria-labelledby="basemapPicker" id="basemapDropdown">
      </ul>
    </div>

    <button type="button" class="btn btn-info pull-right hidden-on-start" onClick="doOAuth()" id="esriSignIn">Sign In for TPK Magic&#8230;</button>

    <div id="extentMap" class="result-map"></div>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>
    <script type="text/javascript" src="res/jquery.ui.slider.custom.js"></script>
    <script src="res/jquery.ui.touch-punch.min.js"></script>

    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="res/jquery.cookie.js"></script>

    <script src="res/spin.min.js"></script>
    <script src="res/ladda.min.js"></script>

    <script type="text/javascript" src="res/amd.prep.js"></script>
    <script type="text/javascript" src="//js.arcgis.com/3.13compact"></script>

    <script type="text/javascript" src="res/authenticate.js"></script>
    <script type="text/javascript" src="res/login.js"></script>
    <script type="text/javascript" src="res/map.js"></script>
    <script type="text/javascript" src="res/tiles.js"></script>
    <script type="text/javascript" src="res/tpk.js"></script>
    <script type="text/javascript" src="res/ui.js"></script>
    <script type="text/javascript" src="res/app.js"></script>
  </body>
</html>
